{% extends 'base.html' %}
{% block title %}ν”„λ΅ν•„{% endblock title %}
{% block style %}
{% endblock style %} 
{% block body %}
<h2 class="mb-3">π¤– {{ person.username }}λ‹μ ν”„λ΅ν•„</h2>
{% if request.user != person %}
<form action="{% url 'accounts:follow' person.pk %}" method="POST">
  {% csrf_token %} {% if request.user in person.followers.all %}
  <button type="submit" class="btn btn-primary my-2" value="μ–Έν”λ΅μ°">
    μ–Έν”λ΅μ°
  </button>
  {% else %}
  <button type="submit" class="btn btn-outline-primary my-2" value="ν”λ΅μ°">
    ν”λ΅μ°
  </button>
  {% endif %}
</form>
{% endif %}

<div class="mt-1"></div>
ν”λ΅μ‰ : {{ person.followings.all|length }} / ν”λ΅μ› : {{ person.followers.all|length }}
<p>
  <button
    class="btn btn-primary"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#followings"
    aria-expanded="false"
    aria-controls="followings"
  >
    ν”λ΅μ‰ λ©λ΅
  </button>
  <button
    class="btn btn-primary"
    type="button"
    data-bs-toggle="collapse"
    data-bs-target="#followers"
    aria-expanded="false"
    aria-controls="followers"
  >
    ν”λ΅μ› λ©λ΅
  </button>
</p>
<div class="collapse" id="followings">
  <span>ν”λ΅μ‰</span>
  <div class="card card-body mb-1" style="width: 200px">
    {% for following in person.followings.all %}
    <a href="{% url 'accounts:profile' following.username %}"
      >{{ following.username }}</a
    >
    {% endfor %}
  </div>
</div>
<div class="collapse" id="followers">
  <span>ν”λ΅μ›</span>
  <div class="card card-body" style="width: 200px">
    {% for follower in person.followers.all %}
    <a href="{% url 'accounts:profile' follower.username %}"
      >{{ follower.username }}</a
    >
    {% endfor %}
  </div>
</div>
{% endblock body %} 
